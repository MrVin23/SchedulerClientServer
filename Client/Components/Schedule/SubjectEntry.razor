@* Subject Entry Component - Credit Card Stack Style *@
<div class="subject-entry-wrapper @(HasAlternateWeeks ? "has-stack" : "")"
     style="@PositionStyle">
    
    @* Main card container (includes stacked strips inside) *@
    <div class="subject-entry @ThemeClass @EntryTypeClass @(HasAlternateWeeks ? "stacked" : "")"
         style="background-color: @Color;">
        
        @* Stacked strips for other weeks (peek from top, inside the card) *@
        @if (HasAlternateWeeks)
        {
            <div class="card-stack">
                @foreach (var altWeek in InactiveWeekEntries)
                {
                    <div class="stacked-card"
                         style="background-color: @GetAltColor(altWeek.Color);">
                        <span class="stacked-week">@altWeek.WeeksDisplay</span>
                        <span class="stacked-title">@altWeek.Title</span>
                    </div>
                }
            </div>
        }
        
        @* Main content (pushed down by stacked cards) *@
        <div class="entry-content">
            <div class="entry-header">
                @if (ShowIcon && !string.IsNullOrEmpty(Icon))
                {
                    <i class="@Icon entry-icon"></i>
                }
                <span class="entry-title">@Title</span>
            </div>
            @if (HasAlternateWeeks && !string.IsNullOrEmpty(ActiveWeeksDisplay))
            {
                <span class="entry-week-info">@ActiveWeeksDisplay</span>
            }
            @if (ShowTime)
            {
                <span class="entry-time">
                    @StartTime.ToString(@"hh\:mm") - @EndTime.ToString(@"hh\:mm")
                </span>
            }
        </div>
    </div>
</div>
